<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TasteHub Restaurant</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../style.css">

  <style>
    body { background:#0b0b0b; color:#fff; }
    .cards { display:flex; flex-wrap:wrap; gap:20px; justify-content:center; }
    .card { background:#000; padding:20px; border-radius:12px; width:240px; border:1px solid gold; }
    .btn { background:gold; color:black; padding:10px 20px; border-radius:25px; cursor:pointer; display:inline-block; font-weight:700; }
    #cartItems p { margin:8px 0; }
    input, textarea { border-radius:8px; border:none; }
  </style>
</head>

<body>

<header class="hero">
  <h1>TasteHub Restaurant</h1>
  <p class="tagline">Good Food • Good Mood</p>
</header>

<!-- MENU -->
<section>
  <h2>Food Menu</h2>

  <div class="cards">
    <div class="card">
      <h3>Veg Biryani</h3>
      <p>₹180</p>
      <button class="btn" onclick="addToCart('Veg Biryani',180)">Add</button>
    </div>

    <div class="card">
      <h3>Chicken Biryani</h3>
      <p>₹250</p>
      <button class="btn" onclick="addToCart('Chicken Biryani',250)">Add</button>
    </div>

    <div class="card">
      <h3>Paneer Butter Masala</h3>
      <p>₹220</p>
      <button class="btn" onclick="addToCart('Paneer Butter Masala',220)">Add</button>
    </div>

    <div class="card">
      <h3>Butter Naan</h3>
      <p>₹40</p>
      <button class="btn" onclick="addToCart('Butter Naan',40)">Add</button>
    </div>
  </div>
</section>

<!-- CART -->
<section class="about">
  <h2>Your Cart</h2>

  <div id="cartItems"></div>
  <h3>Total: ₹<span id="total">0</span></h3>

  <input id="name" placeholder="Your Name" style="width:90%;padding:12px"><br><br>
  <input id="phone" placeholder="Phone Number" style="width:90%;padding:12px"><br><br>
  <textarea id="address" placeholder="Delivery Address" style="width:90%;padding:12px"></textarea><br><br>

  <button class="btn" onclick="placeOrder()">Place Order via WhatsApp</button>
</section>

<script>
/* ===== CART LOGIC ===== */
let cart = {};
let total = 0;

function addToCart(item, price) {
  if (!cart[item]) {
    cart[item] = { price: price, qty: 1 };
  } else {
    cart[item].qty++;
  }
  updateCart();
}

function updateCart() {
  let cartDiv = document.getElementById("cartItems");
  cartDiv.innerHTML = "";
  total = 0;

  for (let item in cart) {
    let itemTotal = cart[item].price * cart[item].qty;
    total += itemTotal;

    cartDiv.innerHTML += `
      <p>${item} × ${cart[item].qty} = ₹${itemTotal}</p>
    `;
  }

  document.getElementById("total").innerText = total;
}

/* ===== PLACE ORDER ===== */
function placeOrder() {
  let name = document.getElementById("name").value;
  let phone = document.getElementById("phone").value;
  let address = document.getElementById("address").value;

  if (!name || !phone || total === 0) {
    alert("Please add items and fill details");
    return;
  }

  let items = "";
  for (let item in cart) {
    items += `${item} x ${cart[item].qty}, `;
  }

  fetch("https://script.google.com/macros/s/AKfycbyVJKvHqohJZN1QYFqNOmc3NaE6UbbXKAvVo9eNMf4DNikEuEntQ1Q59RS5ZL0H2Ziwow/exec", {
    method: "POST",
    body: JSON.stringify({
      name, phone, address, items, total
    })
  });

  let msg =
    `New Order\n\nName: ${name}\nPhone: ${phone}\nAddress: ${address}\n\nItems:\n${items}\nTotal: ₹${total}`;

  window.open(
    "https://wa.me/917483343817?text=" + encodeURIComponent(msg),
    "_blank"
  );
}
</script>

</body>
</html>

